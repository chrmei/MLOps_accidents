# Dagshub Credentials for DVC Remote
# Copy this file to .env and fill in your actual credentials
# The .env file is gitignored and will not be committed to the repository

# Dagshub Username
DAGSHUB_USERNAME=your_username_here

# Dagshub Token/Password
# Generate a token at: https://dagshub.com/user/settings/tokens
DAGSHUB_TOKEN=your_token_here

# Dagshub Repository (format: username/repo-name)
DAGSHUB_REPO=your_username/your_repo

# MLFLOW (DagsHub or local)
MLFLOW_TRACKING_URI=https://dagshub.com/your_username/your_repo.mlflow
MLFLOW_TRACKING_USERNAME=your_username
MLFLOW_TRACKING_PASSWORD=your_token

# =============================================================================
# MLOps Microservices Environment Configuration
# =============================================================================


# =============================================================================
# JWT Authentication Configuration
# =============================================================================
# IMPORTANT: Change these values in production!
JWT_SECRET_KEY=your-super-secret-key-change-in-production-use-openssl-rand-hex-32
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# Initial Admin User (required for auth service and dashboard login)
# =============================================================================
# Set these in .env; no defaults in code.
ADMIN_USERNAME=your_admin_username
ADMIN_PASSWORD=your_admin_password
ADMIN_EMAIL=your_admin_email

# Password reset: set to true only in dev to return reset token in API response
# (when email is not configured). Production should send token by email only.
# DEV_PASSWORD_RESET_TOKEN_IN_RESPONSE=false

# =============================================================================
# Service Configuration
# =============================================================================
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# MLflow Configuration
# =============================================================================
MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_EXPERIMENT_NAME=accident_severity

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# Database Configuration (user storage + job logs; used when running with Docker)
# =============================================================================
# Local development (SQLite):
# DATABASE_URL=sqlite:///./users.db
# Docker with Postgres: set POSTGRES_* and DATABASE_URL (must match).
POSTGRES_USER=your_postgres_user
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_DB=your_postgres_db
DATABASE_URL=postgresql://your_postgres_user:your_postgres_password@postgres:5432/your_postgres_db

# =============================================================================
# Data Paths (usually not needed to change)
# =============================================================================
DATA_DIR=/app/data
MODELS_DIR=/app/models
RAW_DATA_DIR=/app/data/raw
PREPROCESSED_DATA_DIR=/app/data/preprocessed

# =============================================================================
# Service URLs (for inter-service communication)
# =============================================================================
DATA_SERVICE_URL=http://data:8001
TRAIN_SERVICE_URL=http://train:8002
PREDICT_SERVICE_URL=http://predict:8003

# =============================================================================
# Dashboard (Streamlit)
# =============================================================================
# Auth API base URL (e.g. http://nginx:80 in Docker, http://localhost:80 locally)
API_BASE_URL=http://localhost:80
SESSION_EXPIRE_MINUTES=30

# =============================================================================
# Test user (for integration tests and test service)
# =============================================================================
# Create this user via auth API or admin; tests use these env vars.
TEST_USER_USERNAME=your_test_username
TEST_USER_PASSWORD=your_test_password

